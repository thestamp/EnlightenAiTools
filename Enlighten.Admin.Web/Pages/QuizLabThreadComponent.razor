@inherits QuizLabThreadComponentBase



    <MudExpansionPanel Text="@botQuestion">
        @if (!string.IsNullOrEmpty(botQuestion))
        {

            <MudCard>
                <MudCardContent>
                    <MudText>@SelectedUnit?.Name Question!</MudText>
                    <MudMarkdown Value="@botQuestion"/>

                <MudTextField @ref="txtAnswer" @bind-Value="@userAnswer" Label="Your Answer" Multiline="true" Rows="2" Variant="Variant.Outlined" Class="mt-4" Disabled="_processing" />

                </MudCardContent>
                <MudCardActions>
                <MudButton Variant="Variant.Outlined" Color="Color.Primary" OnClick="GenerateResponseAnswer" Class="mt-4" >
                        @if (_processing)
                        {
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true"/>
                            <MudText Class="ms-2">Processing</MudText>
                        }
                        else
                        {
                            <MudText>Submit Answer</MudText>
                        }

                    </MudButton>
                </MudCardActions>
            </MudCard>


            
            
            <br><br />
        
            @if (hasAnswer)
            {
                if (isCorrect)
                {
                    <MudAlert Severity="Severity.Success">@botAnswerResponse</MudAlert>

     
                }
                else
                {
                    if (isSomewhatCorrect)
                    {
                        <MudAlert Severity="Severity.Warning">@botAnswerResponse</MudAlert>
                    }
                    else
                    {
                        <MudAlert Severity="Severity.Error">@botAnswerResponse</MudAlert>
                    }
                
                }
            }
        }
    </MudExpansionPanel>

    